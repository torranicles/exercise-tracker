(this["webpackJsonpexercise-tracker"]=this["webpackJsonpexercise-tracker"]||[]).push([[0],{45:function(e,t,a){},46:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},77:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(36),c=a.n(i),l=(a(45),a(13)),d=a(9),r=a(10),o=a(2),h=a(12),u=a(11),b=a(18),j=a(4),m=(a(46),a(8)),g=a.n(m),x=a(0),f=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",message:"",view:!1},n.handleUserChange=n.handleUserChange.bind(Object(o.a)(n)),n.handlePassChange=n.handlePassChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleClick=n.handleClick.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"handleUserChange",value:function(e){this.setState({username:e.target.value,message:""})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value,message:""})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),g.a.post("/api/login/",this.state).then((function(e){e.data.username===t.state.username?t.props.handleSuccessAuth(e.data):t.setState({message:e.data})})).catch((function(e){return console.log("Login error",e)}))}},{key:"handleClick",value:function(){var e=document.getElementById("password");this.setState({view:!this.state.view}),this.state.view?e.type="password":e.type="text"}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container-md p-0",children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,className:"login",children:[Object(x.jsx)("h1",{className:"text-center",children:"Login"}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"username",children:"Username:"}),Object(x.jsx)("input",{onChange:this.handleUserChange,type:"text",className:"form-control",name:"username"})]}),Object(x.jsxs)("div",{className:"form-group p-1 mb-2",children:[Object(x.jsx)("label",{for:"password",children:"Password:"}),Object(x.jsxs)("div",{className:"row w-100",children:[Object(x.jsx)("div",{className:"col-11 pr-1",children:Object(x.jsx)("input",{id:"password",onChange:this.handlePassChange,type:"password",className:"form-control",name:"password"})}),this.state.view?Object(x.jsx)("i",{className:"far fa-eye col-1 p-2",onClick:this.handleClick}):Object(x.jsx)("i",{className:"far fa-eye-slash col-1 p-2",onClick:this.handleClick})]})]}),Object(x.jsx)("span",{className:"float-right text-danger",children:this.state.message}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"text-center mt-2",children:Object(x.jsx)("button",{className:"btn btn-outline-light",type:"submit",children:"Submit"})}),Object(x.jsx)("div",{className:"text-center mx-1 mt-3",children:Object(x.jsxs)("a",{href:"/auth/github",className:"text-decoration-none btn btn-outline-light w-100",children:["Sign in with Github ",Object(x.jsx)("i",{className:"fab fa-github ml-2"})]})}),Object(x.jsx)("br",{}),Object(x.jsxs)("div",{className:"text-center",children:["Don't have an account?",Object(x.jsx)("span",{className:"signup-btn ml-2",onClick:this.props.handleClick,children:"Sign up"})]})]})})}}]),a}(s.a.Component),O=a(15),p=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={first_name:"",last_name:"",username:"",password:"",message:"",view:!1},n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleClick=n.handleClick.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),g.a.post("/api/register/",this.state).then((function(e){e.data.username==t.state.username?t.props.handleSuccessAuth(e.data):t.setState({message:e.data[0]})})).catch((function(e){return console.log("Registration error",e)}))}},{key:"handleClick",value:function(){var e=document.getElementById("password");this.setState({view:!this.state.view}),this.state.view?e.type="password":e.type="text"}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container-md",children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,className:"login",children:[Object(x.jsx)("h1",{className:"text-center",children:"Register"}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"first_name",children:"First name:"}),Object(x.jsx)("input",{type:"text",onChange:this.handleChange,className:"form-control",name:"first_name",required:!0})]}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"last_name",children:"Last name:"}),Object(x.jsx)("input",{type:"text",onChange:this.handleChange,className:"form-control",name:"last_name",required:!0})]}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"username",children:"Username:"}),Object(x.jsx)("input",{type:"text",onChange:this.handleChange,className:"form-control",name:"username",required:!0})]}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"password",children:"Password:"}),Object(x.jsxs)("div",{className:"row w-100",children:[Object(x.jsx)("div",{className:"col-11 pr-1",children:Object(x.jsx)("input",{type:"password",id:"password",onChange:this.handleChange,className:"form-control",name:"password",required:!0})}),this.state.view?Object(x.jsx)("i",{className:"far fa-eye col-1 p-2",onClick:this.handleClick}):Object(x.jsx)("i",{className:"far fa-eye-slash col-1 p-2",onClick:this.handleClick})]})]}),Object(x.jsx)("div",{className:"text-center mb-2",children:Object(x.jsx)("button",{className:"btn btn-outline-light",type:"submit",children:"Submit"})}),Object(x.jsx)("span",{className:"text-danger float-right message",children:this.state.message}),Object(x.jsx)("br",{}),Object(x.jsx)("button",{className:"btn btn-link",style:{color:" white",fontSize:"2vw"},onClick:this.props.handleClick,children:Object(x.jsx)("i",{className:"fas fa-arrow-left float-left"})})]})})}}]),a}(s.a.Component),v=(a(66),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={viewReg:!1},n.handleClick=n.handleClick.bind(Object(o.a)(n)),n.handleSuccessAuth=n.handleSuccessAuth.bind(Object(o.a)(n)),n.handleLogin=n.handleLogin.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"handleSuccessAuth",value:function(e){this.props.handleLogin(e),this.props.history.push("/dashboard")}},{key:"handleClick",value:function(e){e.preventDefault(),this.setState({viewReg:!this.state.viewReg})}},{key:"componentDidMount",value:function(){this.props.logged_in&&this.props.history.push("/dashboard")}},{key:"handleLogin",value:function(){document.getElementById("head-container").classList.add("d-none"),document.getElementById("form-container").classList.remove("hidden-container"),document.getElementById("login-btn").classList.add("d-none")}},{key:"render",value:function(){return Object(x.jsx)("div",{className:"container-fluid",children:Object(x.jsxs)("div",{className:"d-flex h-100 p-3 align-items-center media-container",children:[Object(x.jsx)("div",{className:"container-md",id:"head-container",children:Object(x.jsx)("h1",{className:"head",children:"TRACK YOUR WORKOUT ROUTINE"})}),Object(x.jsx)("button",{className:"btn btn-light",id:"login-btn",onClick:this.handleLogin,children:"Login"}),Object(x.jsx)("div",{className:"hidden-container w-100",id:"form-container",children:this.state.viewReg?Object(x.jsx)(p,{handleClick:this.handleClick,handleSuccessAuth:this.handleSuccessAuth}):Object(x.jsx)(f,{handleClick:this.handleClick,handleSuccessAuth:this.handleSuccessAuth})})]})})}}]),a}(s.a.Component)),N=(a(67),function(e){return Object(x.jsx)("div",{className:"modal fade",id:"AddOrEdit",children:Object(x.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(x.jsxs)("div",{className:"modal-content",children:[Object(x.jsxs)("div",{className:"modal-header",children:[Object(x.jsx)("h4",{className:"modal-title",children:e.newSubmit?"New exercise":"Edit exercise"}),Object(x.jsx)("button",{type:"button",className:"close","data-dismiss":"modal",children:"\xd7"})]}),Object(x.jsx)("div",{className:"modal-body",children:Object(x.jsxs)("form",{onSubmit:e.handleSubmit,id:"form",children:[Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"description",children:"Description:"}),Object(x.jsx)("input",{onChange:e.handleChange,type:"text",name:"description",className:"form-control",required:!0,value:e.newSubmit?null:e.description})]}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"duration",children:"Duration:"}),Object(x.jsx)("input",{onChange:e.handleChange,type:"text",name:"duration",className:"form-control",placeholder:"minutes",required:!0,value:e.newSubmit?null:e.duration})]}),Object(x.jsxs)("div",{className:"form-group p-1",children:[Object(x.jsx)("label",{for:"date",children:"Date:"}),Object(x.jsx)("input",{onChange:e.handleChange,type:"text",name:"date",className:"form-control",placeholder:"yyyy-mm-dd",value:e.newSubmit?null:e.date.slice(0,10)})]}),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})}),Object(x.jsxs)("div",{className:"p-3",children:[Object(x.jsx)("span",{className:"float-left text-success",children:e.successMessage}),Object(x.jsx)("span",{className:"float-left text-danger",children:e.failureMessage}),Object(x.jsx)("button",{type:"button",className:"btn btn-outline-secondary float-right","data-dismiss":"modal",children:"Close"})]})]})})})}),y=a(37),k=a.n(y),C=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={description:"",duration:"",date:"",_id:null,newSubmit:null,successMessage:null,failMessage:null,loading:!0,exercises:[],noLogs:!1},n.handleNewSubmit=n.handleNewSubmit.bind(Object(o.a)(n)),n.handleEditSubmit=n.handleEditSubmit.bind(Object(o.a)(n)),n.handleChange=n.handleChange.bind(Object(o.a)(n)),n.handleDelete=n.handleDelete.bind(Object(o.a)(n)),n.confirmDelete=n.confirmDelete.bind(Object(o.a)(n)),n.handleEdit=n.handleEdit.bind(Object(o.a)(n)),n.handleAdd=n.handleAdd.bind(Object(o.a)(n)),n.cancelDelete=n.cancelDelete.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"handleEdit",value:function(e){var t=this;g.a.get("/exercise/log",{params:{exerciseId:e.target.id}}).then((function(a){t.setState(Object(l.a)({newSubmit:!1,_id:e.target.id},a.data.log[0]))}))}},{key:"handleEditSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.description,s=a.duration,i=a.date;g.a.put("/edit",{description:n,duration:s,date:i},{params:{id:this.state._id}}).then((function(e){e.data.message?t.setState({failureMessage:e.data.message}):(t.setState({successMessage:e.data}),t.getExercises()),setTimeout((function(){t.setState({failureMessage:null,successMessage:null}),document.getElementById("form").reset()}),2500)}))}},{key:"handleAdd",value:function(){this.setState({newSubmit:!0}),document.getElementById("form").reset()}},{key:"confirmDelete",value:function(e){document.getElementById("confirm-delete").classList.remove("d-none"),this.setState({_id:e.target.id})}},{key:"handleDelete",value:function(){var e=this;g.a.delete("/delete",{params:{id:this.state._id}}).then((function(t){"Exercise deleted"==t.data&&(e.setState({successMessage:t.data}),e.getExercises()),setTimeout((function(){e.setState({successMessage:null})}),2500),document.getElementById("confirm-delete").classList.add("d-none")}))}},{key:"cancelDelete",value:function(){document.getElementById("confirm-delete").classList.add("d-none")}},{key:"handleChange",value:function(e){this.setState(Object(O.a)({},e.target.name,e.target.value))}},{key:"handleNewSubmit",value:function(e){var t=this;e.preventDefault(),g.a.post("/exercise/add",this.state).then((function(e){e.data.failureMessage?t.setState({failureMessage:e.data.failureMessage}):(t.getExercises(),t.setState({successMessage:e.data.message}),setTimeout((function(){t.setState({failureMessage:null,successMessage:null})}),2500),document.getElementById("form").reset())})).catch((function(e){return console.log("Add error",e)}))}},{key:"getExercises",value:function(){var e=this;g.a.get("/exercise/log").then((function(t){e.state.exercises||e.setState({noLogs:!0}),t.data.log&&e.setState({exercises:t.data.log,loading:!1})}))}},{key:"componentDidMount",value:function(){this.getExercises()}},{key:"render",value:function(){var e=this,t=this.state,a=t.description,n=t.duration,s=t.date,i=t.newSubmit,c=t.loading,l=t.successMessage,d=t.failureMessage,r=t.exercises;return Object(x.jsxs)("div",{children:[Object(x.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark",children:[Object(x.jsx)("a",{className:"navbar-brand",href:"#",style:{fontSize:"2rem"},children:"Exercise Tracker"}),Object(x.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavbar",children:Object(x.jsx)("span",{className:"navbar-toggler-icon"})}),Object(x.jsx)("div",{className:"collapse navbar-collapse flex-row-reverse",id:"collapsibleNavbar",children:Object(x.jsx)("ul",{className:"navbar-nav",children:Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)("button",{onClick:this.props.handleLogout,className:"btn btn-link text-white",children:"Logout"})})})})]}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"container-md view-container d-flex justify-content-center",children:Object(x.jsxs)("div",{className:"container-md w-100 p-0",children:[Object(x.jsx)("div",{className:"container-md justify-content-center flex-column w-100 p-3 data-container",children:c?Object(x.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100",children:Object(x.jsx)(k.a,{color:"white"})}):r.length?r.map((function(t){return Object(x.jsxs)("div",{className:"mini-container m-4 row p-3",children:[Object(x.jsxs)("div",{className:"col-11 p-0 pr-3",children:[Object(x.jsx)("h3",{children:t.description}),t.duration," mins.",Object(x.jsx)("br",{}),new Date(t.date).toDateString()]}),Object(x.jsxs)("div",{className:"col-1 p-0 d-flex flex-column justify-content-around align-items-center",children:[Object(x.jsx)("i",{className:"far fa-edit","data-toggle":"modal","data-target":"#AddOrEdit",id:t._id,onClick:e.handleEdit}),Object(x.jsx)("i",{className:"far fa-trash-alt",id:t._id,onClick:e.confirmDelete})]})]},t._id)})):Object(x.jsx)("div",{className:"d-flex align-items-center justify-content-center h-100 text-center text-white",children:Object(x.jsxs)("p",{className:"lead",children:["No exercise found.",Object(x.jsx)("br",{}),"Add exercise to start tracking your routine."]})})}),Object(x.jsxs)("div",{className:"row m-0 pt-4 bg-dark p-3 row-600",children:[Object(x.jsxs)("div",{className:"col-md-6 btn-group",children:[Object(x.jsx)("button",{onClick:this.handleAdd,className:"btn btn-light","data-toggle":"modal","data-target":"#AddOrEdit",children:"Add exercise"}),Object(x.jsx)("button",{className:"btn btn-danger",onClick:this.confirmDelete,children:"Delete all"})]}),Object(x.jsxs)("div",{className:"col-md-6 d-flex justify-content-center del-container",children:[Object(x.jsx)("div",{className:"text-white",children:"Exercise deleted"==l?l:null}),Object(x.jsxs)("div",{className:"d-none mt-2",id:"confirm-delete",children:[Object(x.jsx)("button",{className:"btn btn-outline-danger mx-3",onClick:this.handleDelete,children:"Confirm"}),Object(x.jsx)("button",{onClick:this.cancelDelete,className:"btn btn-link text-white",children:"Cancel"})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})]}),Object(x.jsx)(N,{newSubmit:i,handleSubmit:i?this.handleNewSubmit:this.handleEditSubmit,handleChange:this.handleChange,failureMessage:d,successMessage:l,duration:n,description:a,date:s})]})})]})}}]),a}(s.a.Component),S=a(40),w=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.logged_in!=e)return this.props.logged_in}},{key:"render",value:function(){var e=this,t=this.props,a=t.component,n=Object(S.a)(t,["component"]);return Object(x.jsx)(j.b,Object(l.a)(Object(l.a)({},n),{},{render:function(t){return e.props.logged_in?Object(x.jsx)(a,Object(l.a)(Object(l.a)({},t),{},{handleLogout:e.props.handleLogout})):Object(x.jsx)(j.a,{to:{pathname:"/",state:{from:t.location}}})}}))}}]),a}(s.a.Component),L=a(39),E=a.n(L),_=(a(77),function(){return Object(x.jsx)("div",{className:"d-flex align-items-center justify-content-center loader",children:Object(x.jsx)(E.a,{color:"#71c7ec",height:10,width:200})})}),D=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={username:"",logged_in:!1,loading:!0},n.handleLogin=n.handleLogin.bind(Object(o.a)(n)),n.handleLogout=n.handleLogout.bind(Object(o.a)(n)),n}return Object(r.a)(a,[{key:"handleLogin",value:function(e){this.setState({username:e.username,logged_in:!0})}},{key:"handleLogout",value:function(){var e=this;g.a.get("/logout").then((function(t){"Logged out"==t.data&&e.setState({logged_in:!1})})).catch((function(e){console.log("Logout error",e)}))}},{key:"checkLoginStatus",value:function(){var e=this;g.a.get("/logged_in").then((function(t){t.data.logged_in&&0==e.state.logged_in?e.setState({logged_in:!0,loading:!1}):t.data.logged_in||e.setState({logged_in:!1,loading:!1})})).catch((function(e){return console.log("Login status",e)}))}},{key:"componentDidMount",value:function(){this.checkLoginStatus()}},{key:"render",value:function(){var e=this;return Object(x.jsx)(b.a,{children:Object(x.jsxs)(j.d,{children:[this.state.loading?Object(x.jsx)(_,{}):Object(x.jsx)(j.b,{exact:!0,path:"/",render:function(t){return Object(x.jsx)(v,Object(l.a)(Object(l.a)({},t),{},{logged_in:e.state.logged_in,handleLogin:e.handleLogin}))}}),Object(x.jsx)(w,{handleLogout:this.handleLogout,logged_in:this.state.logged_in,path:"/dashboard",component:C})]})})}}]),a}(s.a.Component),M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};a(78),a(81);c.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(D,{})}),document.getElementById("root")),M()}},[[82,1,2]]]);
//# sourceMappingURL=main.e4377ea1.chunk.js.map